 
@model Models.ViewModel.SubmitExamVM
@using Newtonsoft.Json

<div class="container mt-5">

    <div class="card shadow-sm border-0">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0 text-center">Submit Exam</h3>
        </div>

        <div class="card-body">
            <div class="mb-4">
                <h5 class="fw-bold">Student & Exam Info</h5>
                <ul class="list-group">
                    <li class="list-group-item"><strong>Student:</strong> @Model.StudentName </li>
                    <li class="list-group-item"><strong>Exam:</strong> @Model.ExamName </li>
                </ul>
            </div>

            <div class="mb-4">
                <h5 class="fw-bold">Summary</h5>
                <ul class="list-group">
                    <li class="list-group-item"><strong>Total Questions:</strong>@Model.TotalQuestions </li>
                    <li class="list-group-item"><strong>Answered:</strong> @Model.AnsweredQ</li>
                    <li class="list-group-item"><strong>Unanswered:</strong>@Model.UnAnsweredQ </li>
                </ul>
            </div>

            <div class="mb-4">
                <h5 class="fw-bold">Answers</h5>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Question</th>
                            <th>Answer</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var Q in Model.studentAnswers)
                        {
                            <tr>
                                <td>@Q.Question.QuestionName</td>
                                <td>@Q.SelectedOption</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col-6 text-start">
          @*   <a class="btn btn-outline-secondary" href="@Url.Action("ExamPage", "Exam", new { examId = Model.studentExam.Id })">
                Back to Exam
            </a> *@
            
            <a class="btn btn-outline-secondary" asp-action="Index" asp-route-id="@Model.ExamId">
                Back to Exam
            </a>
        </div>
        <div class="col-6 text-end">
        @*     <form method="post" asp-action="SubmitExamPost">
                <input asp-for="ExamId" type="hidden" value="@Model.ExamId" />
                <input asp-for="ExamName" type="hidden" value="@Model.ExamName" />
                 
                <input asp-for="studentExam" type="hidden" value="@Model.studentExam.Id" />
                <button type="submit" class="btn btn-success px-4">Submit Exam</button>
            </form> *@
  @*           <a class="btn btn-primary" onclick="Submit"> Submit</a> *@
              <button  type="button" class="btn btn-primary" onclick="Submit()">Submit</button>
        </div>

    </div>

    <div class="mt-3 text-center">
@*         <p class="fw-bold">Time Remaining:
 *@
        
        <div><strong>Time Remaining:</strong> <span id="Minutes"></span>:<span id="Secondes"></span></div>
            
         @*    <span class="text-danger"></span> *@
       @*  </p> *@
    </div>
</div>
@section Scripts
{
    <input type="number" hiddin value="@Model.Duration" id="timeRemaining" />
    <input type="number" hiddin value="@Model.AttempID" id="AttempID" />
    <input type="number" hiddin value="@Model.ExamId" id="ExamId" />
    <script src="~/js/Timer.js"></script>
}
